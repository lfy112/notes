# 易学性和易用性

## 1. 自动类型推导

### 1.1 auto

#### 1.1.1 推导规则

使用`auto`声明的变量==必须进行初始化==。

* 当变量不是指针或者引用类型时，推导的结果中不会保留`const`、`volatile`关键字
* 当变量是指针或者引用类型时，推导的结果中会保留`const`、`volatile`关键字

#### 1.1.2 auto 限制

以下场景中，无法完成推导：

1. 不能作为函数参数使用

2. 不能用于类的非静态成员初始化

   ```c++
   class Test
   {
       auto v1 = 0;                    // error
       static auto v2 = 0;             // error,类的静态非常量成员不允许在类内部直接初始化
       static const auto v3 = 10;      // ok
   }
   ```

3. 不能定义数组

   ```c++
   int func()
   {
       int array[] = {1,2,3,4,5};  // 定义数组
       auto t1 = array;            // ok, t1被推导为 int* 类型
       auto t2[] = array;          // error, auto无法定义数组
       auto t3[] = {1,2,3,4,5};;   // error, auto无法定义数组
   }
   ```

4. 无法推导出模板参数

   ```c++
   template <typename T>
   struct Test{}
   
   int func()
   {
       Test<double> t;
       Test<auto> t1 = t;           // error, 无法推导出模板类型
       return 0;
   }
   ```

5. 



